<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MoMo Payment Test - ActurusBooks</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h4 class="mb-0"><i class="fas fa-mobile-alt"></i> MoMo Test Payment</h4>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-info">
                            <h5><i class="fas fa-info-circle"></i> Hướng dẫn test MoMo</h5>
                            <p><strong>1. Tải app MoMo Test:</strong></p>
                            <ul>
                                <li>Android: <a href="https://developers.momo.vn/v3/assets/files/MoMo_Test.apk"
                                        target="_blank">Tải MoMo Test APK</a></li>
                                <li>iOS: Sử dụng TestFlight (cần được mời)</li>
                            </ul>
                            <p><strong>2. Tài khoản test:</strong></p>
                            <ul>
                                <li>Tạo ví test mới với SĐT bất kỳ (10 số)</li>
                                <li>Mật khẩu: <code>000000</code></li>
                                <li>OTP: <code>000000</code> hoặc <code>0000</code></li>
                            </ul>
                            <p><strong>3. Thẻ ATM test (cho liên kết ví):</strong></p>
                            <ul>
                                <li>Số thẻ: <code>9704 05XX XXXX XXXX</code> (X là số bất kỳ 0-9)</li>
                                <li>Tên chủ thẻ: <code>NGUYEN VAN A</code></li>
                                <li>Ngày phát hành: bất kỳ</li>
                            </ul>
                        </div>

                        <div class="alert alert-success">
                            <h5><i class="fas fa-credit-card"></i> Thông tin thẻ ATM test (thanh toán trực tiếp)</h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <p><strong>Thẻ thành công:</strong></p>
                                    <ul>
                                        <li>Số thẻ: <code>9704 0000 0000 0018</code></li>
                                        <li>Tên: <code>NGUYEN VAN A</code></li>
                                        <li>Ngày HH: <code>03/07</code></li>
                                        <li>OTP: <code>000000</code></li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <p><strong>Thẻ Visa/Master test:</strong></p>
                                    <ul>
                                        <li>Số thẻ: <code>5200 0000 0000 1096</code></li>
                                        <li>Tên: <code>NGUYEN VAN A</code></li>
                                        <li>Ngày HH: <code>05/26</code></li>
                                        <li>CVV: <code>111</code></li>
                                        <li>OTP: <code>000000</code></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="row mt-2">
                                <div class="col-md-6">
                                    <p><strong>Test thẻ bị lỗi:</strong></p>
                                    <ul>
                                        <li>Thẻ bị khóa: <code>9704 0000 0000 0026</code></li>
                                        <li>Không đủ tiền: <code>9704 0000 0000 0034</code></li>
                                        <li>Hạn mức: <code>9704 0000 0000 0042</code></li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <p><strong>Visa test thất bại:</strong></p>
                                    <ul>
                                        <li>Thẻ thất bại: <code>5200 0000 0000 1104</code></li>
                                        <li>Thẻ thành công không OTP: <code>4111 1111 1111 1111</code></li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="alert alert-warning">
                            <h5><i class="fas fa-exclamation-triangle"></i> Lưu ý quan trọng</h5>
                            <ul>
                                <li>Chỉ sử dụng app <strong>MoMo Test</strong>, không phải app MoMo chính thức</li>
                                <li>Môi trường test không tính phí thật</li>
                                <li>URL test hiện tại: <code>https://test-payment.momo.vn</code></li>
                                <li>Có thể thanh toán qua <strong>thẻ ATM test</strong> nếu không có app</li>
                            </ul>
                        </div>

                        <div class="alert alert-primary">
                            <h5><i class="fas fa-laptop"></i> Cách test thanh toán</h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <p><strong>Cách 1: App MoMo Test</strong></p>
                                    <ol>
                                        <li>Tải và cài đặt MoMo Test app</li>
                                        <li>Tạo ví mới với SĐT bất kỳ (10 số)</li>
                                        <li>OTP: <code>000000</code>, Mật khẩu: <code>000000</code></li>
                                        <li>Liên kết thẻ ATM với số: <code>9704 05XX XXXX XXXX</code></li>
                                        <li>Nạp tiền vào ví</li>
                                        <li>Quét QR code thanh toán</li>
                                    </ol>
                                </div>
                                <div class="col-md-6">
                                    <p><strong>Cách 2: Thẻ ATM Test trực tiếp</strong></p>
                                    <ol>
                                        <li>Click vào link thanh toán MoMo</li>
                                        <li>Chọn "Thanh toán qua thẻ ATM"</li>
                                        <li>Nhập thẻ test: <code>9704 0000 0000 0018</code></li>
                                        <li>Tên: <code>NGUYEN VAN A</code></li>
                                        <li>Ngày HH: <code>03/07</code></li>
                                        <li>Xác nhận OTP: <code>000000</code></li>
                                    </ol>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <h5><i class="fas fa-cog"></i> Cấu hình hiện tại</h5>
                                <table class="table table-sm">
                                    <tr>
                                        <td><strong>Partner Code:</strong></td>
                                        <td><code>MOMO</code></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Access Key:</strong></td>
                                        <td><code>F8BBA842ECF85</code></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Endpoint:</strong></td>
                                        <td><code>test-payment.momo.vn</code></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Return URL:</strong></td>
                                        <td><code>localhost:8080/payment/momo/return</code></td>
                                    </tr>
                                </table>
                            </div>
                            <div class="col-md-6">
                                <h5><i class="fas fa-qr-code"></i> Cách test</h5>
                                <ol>
                                    <li>Đăng nhập vào website</li>
                                    <li>Thêm sản phẩm vào giỏ hàng</li>
                                    <li>Chọn thanh toán MoMo</li>
                                    <li>Quét QR code bằng app MoMo Test</li>
                                    <li>Nhập mật khẩu giao dịch: <code>123456</code></li>
                                </ol>
                            </div>
                        </div>

                        <div class="text-center mt-4">
                            <a href="/" class="btn btn-primary">
                                <i class="fas fa-home"></i> Về trang chủ
                            </a>
                            <a href="/cart/view" class="btn btn-success">
                                <i class="fas fa-shopping-cart"></i> Giỏ hàng
                            </a>
                        </div>
                    </div>
                </div>

                <div class="card mt-4">
                    <div class="card-header bg-warning text-dark">
                        <h5 class="mb-0"><i class="fab fa-apple"></i> Hướng dẫn đặc biệt cho iPhone</h5>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-warning">
                            <h6><i class="fas fa-exclamation-triangle"></i> Quan trọng cho người dùng iPhone:</h6>
                        </div>

                        <h6><i class="fas fa-qr-code"></i> Cách quét QR code MoMo trên iPhone:</h6>
                        <ol>
                            <li><strong>Tải app MoMo Test:</strong>
                                <ul>
                                    <li>Tải app <code>MoMo Test</code> từ App Store (không phải app MoMo chính thức)
                                    </li>
                                    <li>Hoặc sử dụng TestFlight nếu có link beta</li>
                                </ul>
                            </li>
                            <li><strong>Đăng nhập app MoMo Test:</strong>
                                <ul>
                                    <li>Số điện thoại: Bất kỳ số 10 chữ số nào (ví dụ: <code>0123456789</code>)</li>
                                    <li>Mật khẩu: <code>000000</code></li>
                                    <li>OTP xác thực: <code>000000</code> hoặc <code>0000</code></li>
                                </ul>
                            </li>
                            <li><strong>Quét QR code:</strong>
                                <ul>
                                    <li>Mở app MoMo Test</li>
                                    <li>Nhấn biểu tượng <i class="fas fa-qr-code"></i> (Quét QR)</li>
                                    <li>Quét mã QR xuất hiện trên màn hình thanh toán</li>
                                    <li>Nhập mật khẩu giao dịch: <code>123456</code></li>
                                </ul>
                            </li>
                        </ol>

                        <div class="alert alert-info">
                            <h6><i class="fas fa-mobile-alt"></i> Nếu không có app MoMo Test:</h6>
                            <p>Sử dụng phương thức <strong>thanh toán bằng thẻ</strong> với thông tin test bên dưới thay
                                vì quét QR.</p>
                        </div>

                        <h6><i class="fas fa-camera"></i> Camera iPhone không quét được?</h6>
                        <ul>
                            <li>Đảm bảo cấp quyền Camera cho app MoMo Test</li>
                            <li>Thử quét trong ánh sáng tốt hơn</li>
                            <li>Giữ camera cách QR code khoảng 10-15cm</li>
                            <li>Nếu vẫn không được, sử dụng phương thức thanh toán thẻ</li>
                        </ul>
                    </div>
                </div>

                <div class="card mt-4">
                    <div class="card-header bg-success text-white">
                        <h5 class="mb-0"><i class="fas fa-tools"></i> Test Payment URLs</h5>
                    </div>
                    <div class="card-body">
                        <p><strong>Test direct payment:</strong></p>
                        <div class="input-group mb-3">
                            <input type="text" class="form-control"
                                value="http://localhost:8080/payment/momo?orderId=1&amount=50000" readonly>
                            <button class="btn btn-outline-secondary" type="button"
                                onclick="copyToClipboard(this.previousElementSibling)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>

                        <p><strong>Online test tool:</strong></p>
                        <a href="https://test-payment.momo.vn/v2/gateway/api/create" target="_blank"
                            class="btn btn-info">
                            <i class="fas fa-external-link-alt"></i> Try it now tool
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function copyToClipboard(element) {
            element.select();
            element.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(element.value);

            const button = element.nextElementSibling;
            const originalText = button.innerHTML;
            button.innerHTML = '<i class="fas fa-check"></i>';
            setTimeout(() => {
                button.innerHTML = originalText;
            }, 2000);
        }
    </script>
</body>

</html>